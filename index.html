<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pente</title>
    <link href="https://fonts.googleapis.com/css?family=Spirax" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="./css/style.css" rel="stylesheet">
</head>
<body ng-app="penteApp" ng-controller="penteCtrl">
<div id="connection" ng-show="!connected" ng-cloak>
    <fieldset>
        <legend>Connexion</legend>
        <div id="connection-form">
            <label>Identifiant</label>
            <input type="text" ng-model="nomJoueur"/>
            <label>API URL</label>
            <input type="text" ng-model="apiURL"/>
            <div id="btn-align">
                <div class="btn" ng-click="joinGame('machine')">Machine</div>
                <div id="spacer"></div>
                <div class="btn" ng-click="joinGame('humain')">Humain</div>
            </div>
        </div>
		<div class="connect-error" ng-if="errorMessage.error" ng-cloak > {{ errorMessage.message }}</div>
    </fieldset>
</div>
<div id="game" ng-show="connected" ng-cloak>
    <div class="container-left">
        <div id="game-title">
            <span>Le jeu de Pente</span>
        </div>
        <div id="board">
            <div class="row">
                <div class="cell-header hidden-cell"></div><div class="cell-header">1</div><div class="cell-header">2</div><div class="cell-header">3</div><div class="cell-header">4</div><div class="cell-header">5</div><div class="cell-header">6</div><div class="cell-header">7</div><div class="cell-header">8</div><div class="cell-header">9</div><div class="cell-header">10</div><div class="cell-header">11</div><div class="cell-header">12</div><div class="cell-header">13</div><div class="cell-header">14</div><div class="cell-header">15</div><div class="cell-header">16</div><div class="cell-header">17</div><div class="cell-header">18</div><div class="cell-header">19</div>
            </div>
            <div class="row" ng-repeat="x in plateauJeu track by $index" ng-cloak>
                <div class="cell-header">{{ $index + 1}}</div><div ng-class="y == 0 ? 'cell' : ( y == 1 ? 'cell-j1' : 'cell-j2')" ng-repeat="y in x track by $index" ng-click="makeAPlay($parent.$index, $index)" ng-cloak></div>
            </div>
        </div>
    </div>
    <div class="container-right">
        <div id="details-title">
            <span>Détails de la partie</span>
        </div>
        <div id="details">
            <fieldset class="fieldset-details">
                <legend class="legend-details">Partie</legend>
                <div class="container-details-game">
                    <div class="details-line">
                        <div class="container-left">
                            <span class="labels" ng-cloak>Temps global restant</span>
                        </div>
                        <div class="container-right">
                            <span class="values" ng-cloak>{{ minuteGlobal + ':' + secondGlobal }}</span>
                        </div>
                    </div>
					<div class="details-line">
                        <div class="container-left">
                            <span class="labels" ng-cloak>Temps pour le tour</span>
                        </div>
                        <div class="container-right">
                            <span class="values" ng-cloak>{{ secondCounter }}</span>
                        </div>
                    </div>
                    <div class="details-line">
                        <div class="container-left">
                            <span class="labels">Nombre de coups joués</span>
                        </div>
                        <div class="container-right">
                            <span class="values">{{ nbCoupJoue }}</span>
                        </div>
                    </div>
                </div>
            </fieldset>
            <fieldset ng-if="numJoueur == 1" class="fieldset-details" ng-cloak >
                <legend class="legend-details">Joueurs</legend>
                <div class="player-section">
                    <span class="details-section">Joueur 1</span>
                    <div class="container-details-player">
                        <div class="details-line">
                            <div class="container-left"><span class="labels">Nom du joueur 1</span></div>
                            <div class="container-right"><span class="values">{{ nomJoueur }}</span></div>
                        </div>
                        <div class="details-line">
                            <div class="container-left"><span class="labels">Nombre de tenailles</span></div>
                            <div class="container-right"><span class="values">{{ nbTenaillesJ1 }}</span></div>
                        </div>
                    </div>
                </div>
                <div class="player-section">
                    <span class="details-section">Joueur 2</span>
                    <div class="container-details-player">
                        <div class="details-line">
                            <div class="container-left"><span class="labels">Nombre de tenailles</span></div>
                            <div class="container-right"><span class="values">{{ nbTenaillesJ2 }}</span></div>
                        </div>
						<div class="details-line" ng-if="detailMessage.active" ng-cloak>
                            <div class="container-left"><span class="labels endgame">Fin de partie</span></div>
                            <div class="container-right"><span class="values endgame">{{ detailMessage.message }}</span></div>
                        </div>
						<div class="details-line" ng-if="errorInPlay.active" ng-cloak>
                            <div class="container-left"><span class="labels endgame">Infos</span></div>
                            <div class="container-right"><span class="values endgame">{{ errorInPlay.message }}</span></div>
                        </div>
                    </div>
                </div>
            </fieldset>
			<fieldset ng-if="numJoueur == 2" class="fieldset-details" ng-cloak >
                <legend class="legend-details">Joueurs</legend>
                <div class="player-section">
                    <span class="details-section">Joueur 1</span>
                    <div class="container-details-player">
                        <div class="details-line">
                            <div class="container-left"><span class="labels">Nombre de tenailles</span></div>
                            <div class="container-right"><span class="values">{{ nbTenaillesJ1 }}</span></div>
                        </div>
                    </div>
                </div>
                <div class="player-section">
                    <span class="details-section">Joueur 2</span>
                    <div class="container-details-player">
						<div class="details-line">
                            <div class="container-left"><span class="labels">Nom du joueur 2</span></div>
                            <div class="container-right"><span class="values">{{ nomJoueur }}</span></div>
                        </div>
                        <div class="details-line">
                            <div class="container-left"><span class="labels">Nombre de tenailles</span></div>
                            <div class="container-right"><span class="values">{{ nbTenaillesJ2 }}</span></div>
                        </div>
						<div class="details-line" ng-if="detailMessage.active" ng-cloak>
                            <div class="container-left"><span class="labels endgame">Fin de partie</span></div>
                            <div class="container-right"><span class="values endgame">{{ detailMessage.message }}</span></div>
                        </div>
						<div class="details-line" ng-if="errorInPlay.active" ng-cloak>
                            <div class="container-left"><span class="labels endgame">Infos</span></div>
                            <div class="container-right"><span class="values endgame">{{ errorInPlay.message }}</span></div>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>
</div>
<script type="text/javascript" src="js/angular.min.js"></script>
<script type="text/javascript" src="js/app.js"></script>
</body>
</html>